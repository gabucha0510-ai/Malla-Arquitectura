<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Malla interactiva - Arquitectura (USB)</title>
<style>
  :root{
    --bg:#fbfaf8;
    --card-bg:#ffffff;
    --muted:#7b7b7b;
    --accent:#8A454E;
    /* paleta extraída de la imagen (editable) */
    --c1:#E7CA94;
    --c2:#BFD1B7;
    --c3:#C6B2CB;
    --c4:#C8B69E;
    --c5:#C7E9F8;
    --c6:#F0BDCF;
    --c7:#8A454E;
    --card-radius:10px;
    --gap:18px;
    --col-width:230px;
    --font-sans: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  html,body{height:100%}
  body{
    margin:0;
    font-family:var(--font-sans);
    background:var(--bg);
    color:#222;
    padding:18px;
  }

  header{
    display:flex;
    align-items:center;
    gap:14px;
    margin-bottom:18px;
  }
  header h1{
    margin:0;
    font-size:20px;
  }
  .controls{
    margin-left:auto;
    display:flex;
    gap:8px;
    align-items:center;
  }
  .controls button{padding:8px 12px;border-radius:8px;border:1px solid #ddd;background:white;cursor:pointer}
  .controls .small{padding:6px 8px;font-size:13px}

  .board{
    display:flex;
    gap:var(--gap);
    align-items:flex-start;
    overflow:auto;
    padding-bottom:40px;
  }
  .column{
    min-width:var(--col-width);
    max-width:var(--col-width);
  }
  .col-title{
    text-align:center;
    font-weight:600;
    margin-bottom:8px;
    font-size:14px;
  }

  .card{
    border-radius:var(--card-radius);
    padding:10px;
    margin:10px;
    box-shadow: 0 6px 12px rgba(20,20,20,0.08);
    cursor:pointer;
    position:relative;
    user-select:none;
    border:1px solid rgba(0,0,0,0.08);
    transition:transform .12s ease, box-shadow .12s ease, opacity .12s ease;
    color:#222;
  }
  .card:hover{transform:translateY(-4px); box-shadow:0 10px 18px rgba(20,20,20,0.12)}
  .card .code{font-weight:700; font-size:12px; color:rgba(0,0,0,0.6)}
  .card .name{font-size:13px; margin-top:6px}
  .card .reqs{font-size:12px; color:rgba(0,0,0,0.75); margin-top:6px}

  .card.approved{
    outline:3px solid rgba(0,0,0,0.12);
    transform:scale(1.01);
    box-shadow: inset 0 0 8px rgba(0,0,0,0.08);
  }
  .card.approved::after{
    content:"✓";
    position:absolute;
    right:8px;
    top:8px;
    font-size:13px;
    background:rgba(255,255,255,0.9);
    padding:3px 6px;
    border-radius:6px;
    color:var(--c7);
    font-weight:700;
    border:1px solid rgba(0,0,0,0.1);
  }

  .card.locked{
    opacity:0.55;
    cursor:default;
    pointer-events:auto;
  }
  .card.locked::before{
    content:"";
    position:absolute;
    inset:0;
    border-radius:var(--card-radius);
    pointer-events:none;
  }

  /* colores unicolor */
  .card[data-color="c1"]{background:var(--c1);}
  .card[data-color="c2"]{background:var(--c2);}
  .card[data-color="c3"]{background:var(--c3);}
  .card[data-color="c4"]{background:var(--c4);}
  .card[data-color="c5"]{background:var(--c5);}
  .card[data-color="c6"]{background:var(--c6);}
  .card[data-color="c7"]{background:var(--c7); color:white;}
  .card[data-color="c7"] .code{color:rgba(255,255,255,0.9)}

  .tooltip{position:relative;display:inline-block}
  .tooltip .tt{
    position:absolute;
    left:50%;
    transform:translateX(-50%);
    bottom:calc(100% + 8px);
    background:#222;
    color:white;
    padding:8px 10px;
    border-radius:8px;
    font-size:12px;
    white-space:nowrap;
    display:none;
    z-index:50;
  }
  .tooltip:hover .tt{display:block}

  #connectors{
    position:absolute;
    inset:0;
    pointer-events:none;
    z-index:0;
  }

  .legend{margin-top:12px; font-size:13px; color:#444}
  .legend .dot{display:inline-block;width:12px;height:12px;border-radius:50%;margin-right:8px;vertical-align:middle}
  .muted-note{color:#666;font-size:13px;margin-left:8px}

  @media (max-width:900px){
    :root{--col-width:200px}
    header h1{font-size:16px}
  }
</style>
</head>
<body>
<header>
  <h1>Malla interactiva - Arquitectura (USB)</h1>
  <div class="controls">
    <label style="font-size:13px;color:#444">Simular 40 unidades: <input id="check40" type="checkbox"></label>
    <button class="small" id="btnReset">Reset</button>
    <button class="small" id="btnExport">Exportar</button>
    <button class="small" id="btnImport">Importar</button>
  </div>
</header>

<main style="position:relative">
  <svg id="connectors" width="100%" height="100%"></svg>
  <div class="board" id="board"></div>
  <div class="legend">
    <span class="dot" style="background:var(--c1)"></span>Paleta de la malla
    <span class="muted-note"> · Haz clic en una materia para marcarla como aprobada; las materias bloqueadas muestran qué requisito falta.</span>
  </div>
</main>

<script>
/* === el mismo JavaScript que ya te di === */
</script>
</body>
</html>
